<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Auditability
  #


  Global Auditor
  #

At the time of deploying the Tongo contract, the deploying entity must choose a public key that will serve as the global auditor key. For each user, the contract stores the account balance encrypted under the auditor’s public key. The auditor can decipher the amount stored for each account at any time.
For a transaction to be valid, the user must include (along with the new ciphered balance for their own key and the recipient’s key) a ciphered balance for the global auditor’s public key, along with a ZK proof showing that this ciphered balance encodes the same amount sent in the transaction.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="//localhost:1313/docs/auditor/">
  <meta property="og:site_name" content="Tongo Protocol">
  <meta property="og:title" content="Viewing Key / Auditor">
  <meta property="og:description" content="Auditability # Global Auditor # At the time of deploying the Tongo contract, the deploying entity must choose a public key that will serve as the global auditor key. For each user, the contract stores the account balance encrypted under the auditor’s public key. The auditor can decipher the amount stored for each account at any time.
For a transaction to be valid, the user must include (along with the new ciphered balance for their own key and the recipient’s key) a ciphered balance for the global auditor’s public key, along with a ZK proof showing that this ciphered balance encodes the same amount sent in the transaction.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Viewing Key / Auditor | Tongo Protocol</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="//localhost:1313/docs/auditor/">
<link rel="stylesheet" href="/book.min.d9fc88ff937439782ae16e0553fa704289d79e4aa3e1452f19754bd4cefdd51c.css" integrity="sha256-2fyI/5N0OXgq4W4FU/pwQonXnkqj4UUvGXVL1M791Rw=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.93b49ffaf466d613d70e1067dc7cf85745723535859f5506d9a88fbdc537d546.js" integrity="sha256-k7Sf&#43;vRm1hPXDhBn3Hz4V0VyNTWFn1UG2aiPvcU31UY=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Tongo Protocol</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/encryption/" class="">Encryption</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/transfer/" class="">Transfer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/auditor/" class="active">Viewing Key / Auditor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/zk-proofs/" class="">ZK Proofs</a>
  

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Viewing Key / Auditor</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#global-auditor">Global Auditor</a></li>
    <li><a href="#audit-ex-post">Audit Ex Post</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="auditability">
  Auditability
  <a class="anchor" href="#auditability">#</a>
</h1>
<h2 id="global-auditor">
  Global Auditor
  <a class="anchor" href="#global-auditor">#</a>
</h2>
<p>At the time of deploying the Tongo contract, the deploying entity must choose a public key that will serve as the global auditor key. For each user, the contract stores the account balance encrypted under the auditor’s public key. The auditor can decipher the amount stored for each account at any time.</p>
<p>For a transaction to be valid, the user must include (along with the new ciphered balance for their own key and the recipient’s key) a ciphered balance for the global auditor’s public key, along with a ZK proof showing that this ciphered balance encodes the same amount sent in the transaction.</p>
<p>The global auditor can:</p>
<ul>
<li>Decipher the balance of each account at any time.</li>
<li>Decipher the amount sent in any transfer.</li>
</ul>
<p>The global auditor must:</p>
<ul>
<li>Generate a secret key pair <code>(sk, pk)</code> and ensure that the secret key is not leaked.</li>
<li>Provide the public key when the contract is deployed.</li>
</ul>
<p><strong>Note:</strong> If the global auditor’s secret key is leaked, all balances and transactions could be compromised. It is the responsibility of the global auditor to store the key securely.</p>
<h2 id="audit-ex-post">
  Audit Ex Post
  <a class="anchor" href="#audit-ex-post">#</a>
</h2>
<p>We have implemented a protocol that allows an entity to audit, if the user agrees, the balance or the amount sent in a transaction. The entity only has to request an audit of a specific transaction and provide a public key.</p>
<p>The user may send a ciphered balance for the auditor’s public key along with a ZK proof showing that the ciphered balance encodes the amount sent in the transaction being audited. This is done off-chain and does not require any additional on-chain infrastructure.</p>
<p>This could even be used in a scenario where user A is waiting for user B to transfer some amount to user C.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">




  <div>
    <a class="flex align-center" href="https://github.com/fatlabsxyz/tongo-docs/edit/master/packages/tongo-docs/content/docs/auditor.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#global-auditor">Global Auditor</a></li>
    <li><a href="#audit-ex-post">Audit Ex Post</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












